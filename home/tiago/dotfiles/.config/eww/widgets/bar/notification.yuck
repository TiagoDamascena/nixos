(defwidget notification []
  (eventbox
    :class "icon notifications"
    :cursor "pointer"
    :onclick "swaync-client -t -sw"
    (overlay
      (label :text "")
      (label
        :class "counter"
        :visible {notifications.count > 0}
        :text ""
      )
    )
  )
)

(deflisten notifications :initial '{"count": 0, "dnd": false, "visible": false, "inhibited": false}'
  "scripts/bar/getnotifications"
)